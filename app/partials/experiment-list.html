<div class="row">
	<h2>Experiment grid</h2>
	<hr/>
</div>

<div class="row" ui-facets items="items">
  <div class="col-md-3">
    <!--Sidebar content-->
		<ui-facets-clear text="Clear filters"></ui-facets-clear>
		
		<ui-facet title="Experiment" property="data"></ui-facet>
		<ui-facet title="Cell type" property="CELL_TYPE"></ui-facet>
		<ui-facet title="Cell line" property="CELL_LINE"></ui-facet>
		<ui-facet title="Tissue" property="TISSUE_TYPE"></ui-facet>
		<ui-facet title="Sex" property="DONOR_SEX"></ui-facet>
		<ui-facet title="Donor" property="DONOR_ID"></ui-facet>
  </div>
  <div class="col-md-9">
    <!--Body content-->
		<pagination 
			total-items="items.length"
			ng-model="currentPage"
			items-per-page="pageSize"
			max-size="numPages"
			class="pagination-sm" boundary-links="true" rotate="false" ></pagination>
			
			<div class="facet-filter">
	    Search: <input ng-model="query">
			</div>
		<table class="experiments table table-striped">
			<thead>
				<tr class="slanted">
					<th class="reg sort" ng-class="{sortAsc: (orderProp == 'SAMPLE_DESC_1'),sortDesc: (orderProp == '-SAMPLE_DESC_1')}" ng-click="order('SAMPLE_DESC_1')">Group</th>
					<th class="reg sort" ng-class="{sortAsc: (orderProp == 'SAMPLE_DESC_3'),sortDesc: (orderProp == '-SAMPLE_DESC_3')}" ng-click="order('SAMPLE_DESC_3')">Sub-group</th>
					<th class="reg sort" ng-class="{sortAsc: (orderProp == 'SAMPLE_DESC_2'),sortDesc: (orderProp == '-SAMPLE_DESC_2')}" ng-click="order('SAMPLE_DESC_2')">Name</th>
					<th class="reg sort" ng-class="{sortAsc: (orderProp == 'DONOR_SEX'),sortDesc: (orderProp == '-DONOR_SEX')}" ng-click="order('DONOR_SEX')">Sex</th>					
					<th class="assays" ng-repeat="dt in datatypes"><div><span>{{dt}}</span></div></th>
				</tr>
			</thead>
			<tbody id="results">				
				<tr ng-repeat="item in items | filter:query | orderBy:orderProp | pager:currentPage:pageSize">
						<td>{{item.SAMPLE_DESC_1}}</td>
						<td>{{item.SAMPLE_DESC_3}}</td>
						<td>{{item.SAMPLE_DESC_2}}</td>
						<td>{{item.DONOR_SEX}}</td>
						<td ng-repeat="dt in datatypes" class="assays">
							<span ng-if="item.data[dt]">
								<a popover="{{dt}}" popover-trigger="mouseenter" href="#/experiments/{{item.data[dt]}}">&#x25cf;</a>
						  </span>
						</td>
				</tr>
			</tbody>
		</table>
		<pagination 
			total-items="items.length"
			ng-model="currentPage"
			items-per-page="pageSize"
			max-size="numPages"
			class="pagination-sm" boundary-links="true" rotate="false" ></pagination>
	</div>
</div>

